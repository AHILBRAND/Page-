# ENCODED BY : HACKER(THE YADUVANSHI)
# ENCRYPTION : Py3 BASE64
# FACEBOOK : https://www.facebook.com/hackesofice 
# INSTAGRAM : https://www.instagram.com/hackesofice 

import base64
exec(base64.b64decode("aW1wb3J0IHJhbmRvbQppbXBvcnQgdGltZQppbXBvcnQgcmVxdWVzdHMKZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlbmRlcl90ZW1wbGF0ZSwgcmVxdWVzdAppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCBvcwpmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBTdHlsZSwgaW5pdAoKIyBJbml0aWFsaXplIGNvbG9yYW1hCmluaXQoYXV0b3Jlc2V0PVRydWUpCgojIFBhc3RlYmluIGxpbmsgY29udGFpbmluZyB0aGUgY29ycmVjdCBwYXNzd29yZApwYXN0ZWJpbl9saW5rID0gJ2h0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9zTXEwazdUQicKCiMgRmV0Y2ggdGhlIGNvcnJlY3QgcGFzc3dvcmQgZnJvbSB0aGUgUGFzdGViaW4gbGluawp0cnk6CiAgICBjb3JyZWN0X3Bhc3N3b3JkID0gcmVxdWVzdHMuZ2V0KHBhc3RlYmluX2xpbmspLnRleHQuc3RyaXAoKQpleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5SZXF1ZXN0RXhjZXB0aW9uIGFzIGU6CiAgICBwcmludChmIntGb3JlLlJFRH1FcnJvciBmZXRjaGluZyBwYXNzd29yZCBmcm9tIFBhc3RlYmluOiB7ZX0iICsKICAgICAgICAgIFN0eWxlLlJFU0VUX0FMTCkKICAgIGNvcnJlY3RfcGFzc3dvcmQgPSBOb25lCgppZiBub3QgY29ycmVjdF9wYXNzd29yZDoKICAgIHByaW50KGYie0ZvcmUuUkVEfVstXSA8PT0+IFVuYWJsZSB0byBmZXRjaCB0aGUgY29ycmVjdCBwYXNzd29yZCEiICsKICAgICAgICAgIFN0eWxlLlJFU0VUX0FMTCkKICAgIGV4aXQoKQoKaGVhZGVycyA9IHsKICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgJ0NhY2hlLUNvbnRyb2wnOiAnbWF4LWFnZT0wJywKICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnLAogICAgJ1VzZXItQWdlbnQnOgogICAgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81Ni4wLjI5MjQuNzYgU2FmYXJpLzUzNy4zNicsCiAgICAnQWNjZXB0JzoKICAgICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44JywKICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZScsCiAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45LGZyO3E9MC44JywKICAgICdSZWZlcmVyJzogJ3d3dy5nb29nbGUuY29tJwp9CgoKZGVmIGdldF9yYW5kb21fbGluZV9udW1iZXIoZmlsZV9wYXRoKToKICAgIHJldHVybiByYW5kb20ucmFuZGludCgxLCBsZW4ob3BlbihmaWxlX3BhdGgpLnJlYWRsaW5lcygpKSkKCgpkZWYgcmVhZF9zcGVjaWZpY19saW5lKGZpbGVfcGF0aCwgbGluZV9udW1iZXIpOgogICAgd2l0aCBvcGVuKGZpbGVfcGF0aCwgJ3InKSBhcyBmaWxlOgogICAgICAgIGxpbmVzID0gZmlsZS5yZWFkKCkuc3BsaXRsaW5lcygpCiAgICAgICAgcmV0dXJuIGxpbmVzW2xpbmVfbnVtYmVyIC0gMV0KCgpkZWYgcHJpbnRfcmVzcG9uc2VfY29udGVudChyZXNwb25zZV9jb250ZW50KToKICAgIHJlc3BvbnNlX2xpbmVzID0gcmVzcG9uc2VfY29udGVudC5kZWNvZGUoJ3V0Zi04Jykuc3BsaXRsaW5lcygpCiAgICBmb3IgbGluZSBpbiByZXNwb25zZV9saW5lczoKICAgICAgICBwcmludChmIntGb3JlLkJMVUV9e1N0eWxlLkJSSUdIVH18e1N0eWxlLlJFU0VUX0FMTH0ge2xpbmV9IikKICAgIHByaW50KGYie0ZvcmUuQkxVRX17U3R5bGUuQlJJR0hUfSt7Jy0nICogNzh9K3tTdHlsZS5SRVNFVF9BTEx9IikKCgpkZWYgcHJpbnRfc3VjY2Vzc19tZXNzYWdlKHN1Y2Nlc3NfbWVzc2FnZSk6CiAgICBwcmludCgKICAgICAgICBmIntGb3JlLkdSRUVOfXtTdHlsZS5CUklHSFR9eycrJyAqIDgwfVxueycrJyArICcgJyAqIDc4ICsgJysnfVxuK3tTdHlsZS5SRVNFVF9BTEx9IHtzdWNjZXNzX21lc3NhZ2V9IHtGb3JlLkdSRUVOfXtTdHlsZS5CUklHSFR9K3tTdHlsZS5SRVNFVF9BTEx9XG57JysnICsgJyAnICogNzggKyAnKyd9XG57Rm9yZS5HUkVFTn17U3R5bGUuQlJJR0hUfXsnKycgKiA4MH17U3R5bGUuUkVTRVRfQUxMfSIpCgoKZGVmIHBvc3RfY29tbWVudChhY2Nlc3NfdG9rZW4sIHBvc3RfaWQsIGhhdGVyc25hbWUsIG1lc3NhZ2UsIHRva2VuX3Bvc2l0aW9uKToKICAgIGNvbW1lbnRfdXJsID0gZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTUuMC97cG9zdF9pZH0vY29tbWVudHMnCiAgICBjb21tZW50X21lc3NhZ2UgPSBzdHIoaGF0ZXJzbmFtZSkgKyAnICcgKyBtZXNzYWdlCiAgICBjb21tZW50X3BhcmFtZXRlcnMgPSB7CiAgICAgICAgJ2FjY2Vzc190b2tlbic6IGFjY2Vzc190b2tlbiwKICAgICAgICAnbWVzc2FnZSc6IGNvbW1lbnRfbWVzc2FnZQogICAgfQogICAgY29tbWVudF9yZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoY29tbWVudF91cmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPWNvbW1lbnRfcGFyYW1ldGVycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9aGVhZGVycykKCiAgICBpZiBjb21tZW50X3Jlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICBsYXN0X2ZvdXJfd29yZHMgPSAnICcuam9pbihhY2Nlc3NfdG9rZW4uc3BsaXQoKVstNDpdKQogICAgICAgIHByaW50X3N1Y2Nlc3NfbWVzc2FnZSgKICAgICAgICAgICAgZiJDb21tZW50IHBvc3RlZCB1c2luZyB0b2tlbiBwb3NpdGlvbiB7dG9rZW5fcG9zaXRpb259ICh7bGFzdF9mb3VyX3dvcmRzfSk6IHtjb21tZW50X21lc3NhZ2V9IikKICAgIGVsc2U6CiAgICAgICAgbGFzdF9mb3VyX3dvcmRzID0gJ0VSUk9SJwogICAgICAgIHByaW50KAogICAgICAgICAgICBmIntGb3JlLlJFRH17U3R5bGUuQlJJR0hUfUZhaWxlZCB0byBwb3N0IGNvbW1lbnQgdXNpbmcgdG9rZW4gcG9zaXRpb24ge3Rva2VuX3Bvc2l0aW9ufSAoe2xhc3RfZm91cl93b3Jkc30pOiB7Y29tbWVudF9tZXNzYWdlfSIKICAgICAgICAgICAgKyBTdHlsZS5SRVNFVF9BTEwpCiAgICAgICAgcHJpbnQoCiAgICAgICAgICAgIGYie0ZvcmUuUkVEfXtTdHlsZS5CUklHSFR9UmVzcG9uc2UgY29udGVudDoiCiAgICAgICAgICAgICsgU3R5bGUuUkVTRVRfQUxMKQogICAgICAgIHByaW50X3Jlc3BvbnNlX2NvbnRlbnQoY29tbWVudF9yZXNwb25zZS5jb250ZW50KQogICAgICAgIHByaW50KAogICAgICAgICAgICBmIntGb3JlLlJFRH17U3R5bGUuQlJJR0hUfVN0YXR1cyBjb2RlOiB7Y29tbWVudF9yZXNwb25zZS5zdGF0dXNfY29kZX0iCiAgICAgICAgICAgICsgU3R5bGUuUkVTRVRfQUxMKQoKCmRlZiBzZW5kX21lc3NhZ2UoYWNjZXNzX3Rva2VuLCB0aHJlYWRfaWQsIGhhdGVyc25hbWUsIG1lc3NhZ2UsIHRva2VuX3Bvc2l0aW9uKToKICAgIG1lc3NhZ2VfdXJsID0gZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTUuMC90X3t0aHJlYWRfaWR9LycKICAgIG1lc3NhZ2VfbWVzc2FnZSA9IHN0cihoYXRlcnNuYW1lKSArICcgJyArIG1lc3NhZ2UKICAgIG1lc3NhZ2VfcGFyYW1ldGVycyA9IHsKICAgICAgICAnYWNjZXNzX3Rva2VuJzogYWNjZXNzX3Rva2VuLAogICAgICAgICdtZXNzYWdlJzogbWVzc2FnZV9tZXNzYWdlCiAgICB9CiAgICBtZXNzYWdlX3Jlc3BvbnNlID0gcmVxdWVzdHMucG9zdChtZXNzYWdlX3VybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPW1lc3NhZ2VfcGFyYW1ldGVycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPWhlYWRlcnMpCgogICAgaWYgbWVzc2FnZV9yZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgbGFzdF9mb3VyX3dvcmRzID0gJyAnLmpvaW4oYWNjZXNzX3Rva2VuLnNwbGl0KClbLTQ6XSkKICAgICAgICBwcmludF9zdWNjZXNzX21lc3NhZ2UoCiAgICAgICAgICAgIGYiTWVzc2FnZSBzZW50IHVzaW5nIHRva2VuIHBvc2l0aW9uIHt0b2tlbl9wb3NpdGlvbn0gKHtsYXN0X2ZvdXJfd29yZHN9KTpcbnttZXNzYWdlX21lc3NhZ2V9XG5UaHJlYWQgSUQ6IHt0aHJlYWRfaWR9IikKICAgIGVsc2U6CiAgICAgICAgbGFzdF9mb3VyX3dvcmRzID0gJ0VSUk9SJwogICAgICAgIHByaW50KAogICAgICAgICAgICBmIntGb3JlLlJFRH17U3R5bGUuQlJJR0hUfUZhaWxlZCB0byBzZW5kIG1lc3NhZ2UgdXNpbmcgdG9rZW4gcG9zaXRpb24ge3Rva2VuX3Bvc2l0aW9ufSAoe2xhc3RfZm91cl93b3Jkc30pOiB7bWVzc2FnZV9tZXNzYWdlfSIKICAgICAgICAgICAgKyBTdHlsZS5SRVNFVF9BTEwpCiAgICAgICAgcHJpbnQoCiAgICAgICAgICAgIGYie0ZvcmUuUkVEfXtTdHlsZS5CUklHSFR9UmVzcG9uc2UgY29udGVudDoiCiAgICAgICAgICAgICsgU3R5bGUuUkVTRVRfQUxMKQogICAgICAgIHByaW50X3Jlc3BvbnNlX2NvbnRlbnQobWVzc2FnZV9yZXNwb25zZS5jb250ZW50KQogICAgICAgIHByaW50KAogICAgICAgICAgICBmIntGb3JlLlJFRH17U3R5bGUuQlJJR0hUfVN0YXR1cyBjb2RlOiB7bWVzc2FnZV9yZXNwb25zZS5zdGF0dXNfY29kZX0iCiAgICAgICAgICAgICsgU3R5bGUuUkVTRVRfQUxMKQoKCmRlZiBwcm9jZXNzX21lc3NhZ2VzX3RocmVhZCgpOgogICAgdHJ5OgogICAgICAgIGVudGVyZWRfcGFzc3dvcmRfcGF0aCA9ICdkYXRhL3Bhc3N3b3JkLnR4dCcKICAgICAgICBlbnRlcmVkX3Bhc3N3b3JkX2xpbmVfbnVtYmVyID0gZ2V0X3JhbmRvbV9saW5lX251bWJlcigKICAgICAgICAgICAgZW50ZXJlZF9wYXNzd29yZF9wYXRoKQogICAgICAgIGVudGVyZWRfcGFzc3dvcmQgPSByZWFkX3NwZWNpZmljX2xpbmUoZW50ZXJlZF9wYXNzd29yZF9wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXJlZF9wYXNzd29yZF9saW5lX251bWJlcikKCiAgICAgICAgaWYgZW50ZXJlZF9wYXNzd29yZCAhPSBjb3JyZWN0X3Bhc3N3b3JkOgogICAgICAgICAgICBwcmludChmIntGb3JlLlJFRH17U3R5bGUuQlJJR0hUfVstXSA8PT0+IEluY29ycmVjdCBQYXNzd29yZCEiICsKICAgICAgICAgICAgICAgICAgU3R5bGUuUkVTRVRfQUxMKQogICAgICAgICAgICByZXR1cm4gIkluY29ycmVjdCBQYXNzd29yZCEiCgogICAgICAgICMgU2xlZXAgZm9yIDUgc2Vjb25kcyBhZnRlciBsb2FkaW5nCiAgICAgICAgdGltZS5zbGVlcCg1KQoKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICB0eHRfZmlsZV9wYXRoID0gJ2RhdGEvTlAudHh0JwogICAgICAgICAgICB0eHRfZmlsZV9saW5lX251bWJlciA9IGdldF9yYW5kb21fbGluZV9udW1iZXIodHh0X2ZpbGVfcGF0aCkKICAgICAgICAgICAgbWVzc2FnZXMgPSByZWFkX3NwZWNpZmljX2xpbmUodHh0X2ZpbGVfcGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHh0X2ZpbGVfbGluZV9udW1iZXIpLnNwbGl0bGluZXMoKQoKICAgICAgICAgICAgZm9yIG1lc3NhZ2UxIGluIG1lc3NhZ2VzOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbl9saW5lX251bWJlciA9IGdldF9yYW5kb21fbGluZV9udW1iZXIoCiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhL2FjY2Vzc1Rva2VuLnR4dCcpCiAgICAgICAgICAgICAgICAgICAgdGhyZWFkX2lkX2xpbmVfbnVtYmVyID0gZ2V0X3JhbmRvbV9saW5lX251bWJlcigKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEvdGhyZWFkaWQudHh0JykKICAgICAgICAgICAgICAgICAgICBwb3N0X2lkX2xpbmVfbnVtYmVyID0gZ2V0X3JhbmRvbV9saW5lX251bWJlcigKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEvcG9zdExpbmsudHh0JykKICAgICAgICAgICAgICAgICAgICBoYXRlcnNuYW1lX2xpbmVfbnVtYmVyID0gZ2V0X3JhbmRvbV9saW5lX251bWJlcigKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEvaGF0ZXJzbmFtZS50eHQnKQogICAgICAgICAgICAgICAgICAgIHRpbWVfaW50ZXJ2YWxfbGluZV9udW1iZXIgPSBnZXRfcmFuZG9tX2xpbmVfbnVtYmVyKAogICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS90aW1lLnR4dCcpCgogICAgICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbiA9IHJlYWRfc3BlY2lmaWNfbGluZSgKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEvYWNjZXNzVG9rZW4udHh0JywgYWNjZXNzX3Rva2VuX2xpbmVfbnVtYmVyKQogICAgICAgICAgICAgICAgICAgIHRocmVhZF9pZCA9IHJlYWRfc3BlY2lmaWNfbGluZSgKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEvdGhyZWFkaWQudHh0JywgdGhyZWFkX2lkX2xpbmVfbnVtYmVyKQogICAgICAgICAgICAgICAgICAgIHBvc3RfaWQgPSByZWFkX3NwZWNpZmljX2xpbmUoCiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhL3Bvc3RMaW5rLnR4dCcsIHBvc3RfaWRfbGluZV9udW1iZXIpCiAgICAgICAgICAgICAgICAgICAgaGF0ZXJzbmFtZSA9IHJlYWRfc3BlY2lmaWNfbGluZSgKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEvaGF0ZXJzbmFtZS50eHQnLCBoYXRlcnNuYW1lX2xpbmVfbnVtYmVyKQogICAgICAgICAgICAgICAgICAgIHRpbWVfaW50ZXJ2YWwgPSBpbnQoCiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRfc3BlY2lmaWNfbGluZSgnZGF0YS90aW1lLnR4dCcsIHRpbWVfaW50ZXJ2YWxfbGluZV9udW1iZXIpKQoKICAgICAgICAgICAgICAgICAgICBwb3N0X2NvbW1lbnQoYWNjZXNzX3Rva2VuLCBwb3N0X2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXRlcnNuYW1lLCBtZXNzYWdlMSwgYWNjZXNzX3Rva2VuX2xpbmVfbnVtYmVyKQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAodGltZV9pbnRlcnZhbCkKICAgICAgICAgICAgICAgICAgICBzZW5kX21lc3NhZ2UoYWNjZXNzX3Rva2VuLCB0aHJlYWRfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhdGVyc25hbWUsIG1lc3NhZ2UxLCBhY2Nlc3NfdG9rZW5fbGluZV9udW1iZXIpCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCh0aW1lX2ludGVydmFsKQoKICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgICAgICAgICAgZiJ7Rm9yZS5SRUR9e1N0eWxlLkJSSUdIVH1FcnJvciB3aGlsZSBwcm9jZXNzaW5nIG1lc3NhZ2VzIHVzaW5nIHRva2VuIHBvc2l0aW9uOiIKICAgICAgICAgICAgICAgICAgICAgICAgKyBTdHlsZS5SRVNFVF9BTEwpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9e1N0eWxlLkJSSUdIVH17ZX0iICsgU3R5bGUuUkVTRVRfQUxMKQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9e1N0eWxlLkJSSUdIVH1FcnJvciBpbiBwcm9jZXNzX21lc3NhZ2VzOiB7ZX0iICsKICAgICAgICAgICAgICBTdHlsZS5SRVNFVF9BTEwpCgoKIyBDcmVhdGUgYSB0aHJlYWQgZm9yIHByb2Nlc3NfbWVzc2FnZXNfdGhyZWFkCnByb2Nlc3NfdGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cHJvY2Vzc19tZXNzYWdlc190aHJlYWQpCgpkZWYgc3RhcnRfcHJvY2Vzc2luZ190aHJlYWQoZm9ybV9kYXRhKToKICAgIGVudGVyZWRfcGFzc3dvcmRfcGF0aCA9ICdkYXRhL3Bhc3N3b3JkLnR4dCcKICAgIGVudGVyZWRfcGFzc3dvcmRfbGluZV9udW1iZXIgPSBnZXRfcmFuZG9tX2xpbmVfbnVtYmVyKAogICAgICAgIGVudGVyZWRfcGFzc3dvcmRfcGF0aCkKICAgIGVudGVyZWRfcGFzc3dvcmQgPSByZWFkX3NwZWNpZmljX2xpbmUoZW50ZXJlZF9wYXNzd29yZF9wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRlcmVkX3Bhc3N3b3JkX2xpbmVfbnVtYmVyKQoKICAgICMgQ2hlY2sgaWYgdGhlIGVudGVyZWQgcGFzc3dvcmQgaXMgY29ycmVjdAogICAgaWYgZW50ZXJlZF9wYXNzd29yZCA9PSBmb3JtX2RhdGFbJ3Bhc3N3b3JkJ106CiAgICAgICAgIyBTYXZlIGZvcm0gZGF0YSB0byBpbmRpdmlkdWFsIGZpbGVzCiAgICAgICAgd2l0aCBvcGVuKCdkYXRhL2FjY2Vzc1Rva2VuLnR4dCcsICd3JykgYXMgdG9rZW5fZmlsZToKICAgICAgICAgICAgdG9rZW5fZmlsZS53cml0ZShmb3JtX2RhdGFbJ2FjY2Vzc1Rva2VuJ10pCgogICAgICAgIHdpdGggb3BlbignZGF0YS9wYXNzd29yZC50eHQnLCAndycpIGFzIHBhc3N3b3JkX2ZpbGU6CiAgICAgICAgICAgIHBhc3N3b3JkX2ZpbGUud3JpdGUoZm9ybV9kYXRhWydwYXNzd29yZCddKQoKICAgICAgICB3aXRoIG9wZW4oJ2RhdGEvdGltZS50eHQnLCAndycpIGFzIHRpbWVfZmlsZToKICAgICAgICAgICAgdGltZV9maWxlLndyaXRlKGZvcm1fZGF0YVsndGltZSddKQoKICAgICAgICB3aXRoIG9wZW4oJ2RhdGEvaGF0ZXJzbmFtZS50eHQnLCAndycpIGFzIGhhdGVyc25hbWVfZmlsZToKICAgICAgICAgICAgaGF0ZXJzbmFtZV9maWxlLndyaXRlKGZvcm1fZGF0YVsnaGF0ZXJzbmFtZSddKQoKICAgICAgICB3aXRoIG9wZW4oJ2RhdGEvcG9zdExpbmsudHh0JywgJ3cnKSBhcyBwb3N0TGlua19maWxlOgogICAgICAgICAgICBwb3N0TGlua19maWxlLndyaXRlKGZvcm1fZGF0YVsncG9zdExpbmsnXSkKCiAgICAgICAgd2l0aCBvcGVuKCdkYXRhL3RocmVhZGlkLnR4dCcsICd3JykgYXMgdGhyZWFkaWRfZmlsZToKICAgICAgICAgICAgdGhyZWFkaWRfZmlsZS53cml0ZShmb3JtX2RhdGFbJ3RocmVhZGlkJ10pCgogICAgICAgICMgU2F2ZSB0aGUgY29udGVudHMgb2YgdGhlIHVwbG9hZGVkIGZpbGUgdG8gTlAudHh0CiAgICAgICAgZmlsZV9wYXRoID0gb3MucGF0aC5qb2luKCdkYXRhJywgJ05QLnR4dCcpCiAgICAgICAgZm9ybV9kYXRhWyd1cGxvYWRlZEZpbGUnXS5zYXZlKGZpbGVfcGF0aCkKCiAgICAjIFN0YXJ0IHRoZSBwcm9jZXNzX21lc3NhZ2VzX3RocmVhZCBvbmx5IG9uY2UKICAgIGlmIG5vdCBwcm9jZXNzX3RocmVhZC5pc19hbGl2ZSgpOgogICAgICAgIHByb2Nlc3NfdGhyZWFkLnN0YXJ0KCkKCgphcHAgPSBGbGFzayhfX25hbWVfXykKCkBhcHAucm91dGUoJy8nLCBtZXRob2RzPVsnR0VUJywgJ1BPU1QnXSkKZGVmIGluZGV4KCk6CiAgICBpZiByZXF1ZXN0Lm1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgIyBSZXRyaWV2ZSBmb3JtIGRhdGEKICAgICAgICBmb3JtX2RhdGEgPSB7CiAgICAgICAgICAgICdhY2Nlc3NUb2tlbic6IHJlcXVlc3QuZm9ybVsnYWNjZXNzVG9rZW4nXSwKICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcmVxdWVzdC5mb3JtWydwYXNzd29yZCddLAogICAgICAgICAgICAndGltZSc6IHJlcXVlc3QuZm9ybVsndGltZSddLAogICAgICAgICAgICAnaGF0ZXJzbmFtZSc6IHJlcXVlc3QuZm9ybVsnaGF0ZXJzbmFtZSddLAogICAgICAgICAgICAncG9zdExpbmsnOiByZXF1ZXN0LmZvcm1bJ3Bvc3RMaW5rJ10sCiAgICAgICAgICAgICd0aHJlYWRpZCc6IHJlcXVlc3QuZm9ybVsndGhyZWFkaWQnXSwKICAgICAgICAgICAgJ3VwbG9hZGVkRmlsZSc6IHJlcXVlc3QuZmlsZXNbJ3VwbG9hZGVkRmlsZSddCiAgICAgICAgfQoKICAgICAgICAjIFN0YXJ0IHByb2Nlc3NpbmcgdGhyZWFkIHdpdGggZm9ybSBkYXRhCiAgICAgICAgc3RhcnRfcHJvY2Vzc2luZ190aHJlYWQoZm9ybV9kYXRhKQoKICAgIHJldHVybiByZW5kZXJfdGVtcGxhdGUoJ2luZGV4Lmh0bWwnKQoKCiMgVXBkYXRlZCBjYXRjaC1hbGwgcm91dGUgdG8gZXhwbGljaXRseSBoYW5kbGUgL3NyY2RvYyBwYXRoCkBhcHAucm91dGUoJy88cGF0aDpkdW1teT4nLCBtZXRob2RzPVsnR0VUJywgJ1BPU1QnXSkKZGVmIGNhdGNoX2FsbChkdW1teSk6CiAgICAjIEV4cGxpY2l0bHkgaGFuZGxlIC9zcmNkb2MgcGF0aAogICAgaWYgZHVtbXkubG93ZXIoKSA9PSAnc3JjZG9jJzoKICAgICAgICByZXR1cm4gcmVuZGVyX3RlbXBsYXRlKCdpbmRleC5odG1sJykKCiAgICByZXR1cm4gZiJ7Rm9yZS5SRUR9e1N0eWxlLkJSSUdIVH1Sb3V0ZSBub3QgZm91bmQ6IHtkdW1teX0iICsgU3R5bGUuUkVTRVRfQUxMLCA0MDQKCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgIyBTdGFydCB0aGUgRmxhc2sgYXBwIGluIG9uZSB0aHJlYWQKICAgIGZsYXNrX3RocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWFwcC5ydW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGt3YXJncz17CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaG9zdCc6ICcwLjAuMC4wJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwb3J0JzogODA4MAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQoKICAgICMgU3RhcnQgdGhlIHByb2Nlc3NfbWVzc2FnZXNfdGhyZWFkIGluIGFub3RoZXIgdGhyZWFkCiAgICBwcm9jZXNzX3RocmVhZC5zdGFydCgpCgogICAgIyBTdGFydCB0aGUgRmxhc2sgYXBwIHRocmVhZAogICAgZmxhc2tfdGhyZWFkLnN0YXJ0KCkKCiAgICAjIFdhaXQgZm9yIGJvdGggdGhyZWFkcyB0byBmaW5pc2gKICAgIHByb2Nlc3NfdGhyZWFkLmpvaW4oKQogICAgZmxhc2tfdGhyZWFkLmpvaW4oKQogICAg"))
